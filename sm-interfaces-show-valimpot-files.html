<h2> Show ValImpot files</h2>
<div class="base">
	<div class="row">	
	
		<div class="col"> 
			<div class="row">
				<div class="col-md-6" >
					<div class="input-group">
						<button id="tagIdButtonShow" onclick="handleShow()" type="button" class="btn float-right btn-primary mb-2">Show Files</button>
					</div> 
					<p id="tagIdInfoTxt"></p>
				</div>	
			</div>
			
			<div class="row">
				<div class="col-md-6">
					<div id="tagIdAlert" hidden class="" role="alert"></div>
				</div>
			</div>									
		</div>
		
	</div>
</div>

<script type="text/JavaScript">

//------------------------------------------------------------------------------------------
// Globals
//------------------------------------------------------------------------------------------

// API actions

var TB_SHOW_VALIMPOT_FILES = "/bin/bash "+UTILSCRIPTS+"/tb_show_ValImpotFiles.sh";

//------------------------------------------------------------------------------------------
$(document).ready(function() {

	infoTxtHide("tagIdInfoTxt");
	alertHide();
	
}); 

//------------------------------------------------------------------------------------------
function handleShow() {

	$.get(TOOLBOX_URL+"/wrapper.php?action="+TB_SHOW_VALIMPOT_FILES+"&rand="+Math.floor(Math.random()*100), function(data) {
		
		if (data) {
			if(data == 'success') {
				alertSuccess('Script was successfully executed');
			}
			else {
				alertDanger('Script was not successfully executed');
			}	
		} 
		else {
			alertDanger('Empty answer from host');
		}
	}); //end get()
}

//------------------------------------------------------------------------------------------
function infoTxtSuccess(tag, text) {
	document.getElementById(tag).innerHTML = text;
	document.getElementById("tagIdInfoTxt").setAttribute("class","text-success ml-2");
}
//------------------------------------------------------------------------------------------
function infoTxtDanger(tag, text) {
	document.getElementById(tag).innerHTML = text;
	document.getElementById(tag).setAttribute("class","text-danger ml-2");
}
//------------------------------------------------------------------------------------------
function infoTxtHide(tag) {
	//document.getElementById(tag).innerHTML = '&nbsp;';
	document.getElementById(tag).innerHTML = '';
}
//------------------------------------------------------------------------------------------
function alertSuccess(text) {
	document.getElementById("tagIdAlert").innerHTML = text;
	document.getElementById("tagIdAlert").setAttribute("class","alert alert-success");
	document.getElementById("tagIdAlert").removeAttribute("hidden","");
}
//------------------------------------------------------------------------------------------
function alertDanger(text) {
	document.getElementById("tagIdAlert").innerHTML = text;
	document.getElementById("tagIdAlert").setAttribute("class","alert alert-danger");
	document.getElementById("tagIdAlert").removeAttribute("hidden","");
}
//------------------------------------------------------------------------------------------
function alertHide() {
	document.getElementById("tagIdAlert").setAttribute("hidden","");
}

</script>	